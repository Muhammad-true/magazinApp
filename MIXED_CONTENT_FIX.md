# Решение проблемы Mixed Content

## Проблема
Сайт работает на HTTPS (https://magazin-apps.vercel.app/), но API использует HTTP (http://159.89.99.252:8080/api/v1). Браузеры блокируют такие запросы из соображений безопасности.

## Решения

### Вариант 1: Настроить HTTPS на сервере API (РЕКОМЕНДУЕТСЯ)

1. Установите SSL сертификат на сервере `159.89.99.252:8080`
2. Настройте API для работы на HTTPS (например, через nginx с SSL)
3. Обновите переменную окружения `VITE_API_URL` в Vercel:
   ```
   https://159.89.99.252:8080/api/v1
   ```

### Вариант 2: Использовать переменную окружения в Vercel

1. Перейдите в настройки проекта на Vercel
2. Откройте раздел "Environment Variables"
3. Добавьте переменную:
   - **Name**: `VITE_API_URL`
   - **Value**: `https://159.89.99.252:8080/api/v1` (если API поддерживает HTTPS)
   - Или: `http://159.89.99.252:8080/api/v1` (только для разработки)

### Вариант 3: Использовать прокси через Vercel (если API не поддерживает HTTPS)

Если ваш API не может работать на HTTPS, можно настроить прокси через Vercel Edge Functions или использовать другой прокси-сервис.

### Вариант 4: Временно отключить проверку Mixed Content (НЕ РЕКОМЕНДУЕТСЯ)

Это можно сделать только для разработки, но не для продакшена.

## Текущее решение в коде

Код автоматически пытается использовать HTTPS версию API, если сайт работает на HTTPS. Однако это работает только если ваш API сервер поддерживает HTTPS.

## Что нужно сделать

1. **Настроить SSL на сервере API** - это самое правильное решение
2. **Или использовать переменную окружения** `VITE_API_URL` в Vercel с HTTPS URL
3. **Или настроить прокси** для API запросов

## Проверка

После настройки проверьте:
- Откройте консоль браузера
- Убедитесь, что нет ошибок "Mixed Content"
- Проверьте, что запросы к API проходят успешно
